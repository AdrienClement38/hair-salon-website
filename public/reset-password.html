<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Réinitialisation Mot de Passe - La Base Coiffure</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/admin/admin.css">
    <link rel="icon" href="/images/salon-logo">
</head>

<body style="background-color: #f4f4f4; height: 100vh; display: flex; align-items: center; justify-content: center;">

    <div class="login-wrapper" id="reset-view" style="width: 100%; max-width: 400px; padding: 20px;">
        <div class="login-box"
            style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h2 style="text-align: center; margin-bottom: 20px;">Nouveau Mot de Passe</h2>

            <div id="loading-msg" style="text-align: center; color: #666;">Vérification du lien...</div>

            <div id="error-msg" style="display: none; text-align: center; color: red; margin-bottom: 20px;"></div>

            <form id="reset-form" style="display: none;">
                <input type="hidden" id="reset-token">
                <div class="form-group">
                    <label for="username">Identifiant de connexion <span id="username-feedback"
                            style="font-weight: normal; margin-left: 10px; font-size: 0.9em;"></span></label>
                    <input type="text" id="username" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="newPassword">Nouveau mot de passe</label>
                    <div class="password-wrapper">
                        <input type="password" id="newPassword" required disabled
                            style="background-color: #f0f0f0; cursor: not-allowed;">
                        <button type="button" class="password-toggle" onclick="togglePassword(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Confirmer le mot de passe</label>
                    <div class="password-wrapper">
                        <input type="password" id="confirm-password" required minlength="4" disabled
                            style="background-color: #f0f0f0; cursor: not-allowed;">
                        <button type="button" class="password-toggle" onclick="togglePassword(this)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="form-error" style="color: red; margin-bottom: 15px; font-size: 0.9em;"></div>
                <button type="submit" class="btn" id="submit-btn" style="width: 100%;">Enregistrer</button>
            </form>

            <div style="text-align: center; margin-top: 20px;">
                <a href="/admin.html" style="color: #666; text-decoration: none; font-size: 0.9em;">Retour à la
                    connexion</a>
            </div>
        </div>
    </div>

    <script src="js/reset-password.js"></script>
</body>

</html>